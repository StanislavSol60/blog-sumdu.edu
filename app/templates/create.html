{% extends "base.html" %}

{% block content %}
<div class="column is-8 is-offset-2">
    <h3 class="title">Create a New Post</h3>
    <div class="box has-text-left">
        {% with messages = get_flashed_messages() %}
        {% if messages %}
        <div class="notification is-danger">
            {{ messages[0] }}
        </div>
        {% endif %}
        {% endwith %}
        <form method="POST" action="/create">
            {{ form.csrf_token }}
            <div class="field">
                <label class="label">Title</label>
                <div class="control">
                    {{ form.title(class="input is-medium", placeholder="Title", autofocus="") }}
                    {% for error in form.title.errors %}
                    <p class="help is-danger">{{ error }}</p>
                    {% endfor %}
                </div>
            </div>
            <div class="field">
                <label class="label">Content</label>
                <div class="control">
                    {{ form.content(class="textarea post-textarea is-medium", placeholder="Post content") }}
                    {% for error in form.content.errors %}
                    <p class="help is-danger">{{ error }}</p>
                    {% endfor %}
                </div>
            </div>
            <button class="button is-block is-info is-medium">Submit</button>
        </form>
    </div>
</div>
{% endblock %}

